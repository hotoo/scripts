<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>org.xianyun.utils.StringBuffer test</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<script language="JavaScript" type="text/javascript" src="equals.js"></script>
	<script language="JavaScript" type="text/javascript" src="StringBuffer.js"></script>
</head>
<body>
正确性测试<br />
<script language="JavaScript" type="text/javascript">
var sb = new StringBuffer("abc");
sb.append("def");
document.write('new StringBuffer("abc").append("def") : '+sb);

document.write("<br />")

var sb2 = new StringBuffer("abcdef");
document.write(sb2);

document.write("<br />");

document.write(sb.equals(sb2));
</script>

<br /><br />
效率测试<br />
<script type="text/javascript">
var total = 10000;
//字符串 + 号拼接大文本：
var s = "";
var d = new Date();
for (var i=0; i<total; i++) {
	s+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
}
d = new Date()-d;


//StringBuffer拼接大文本:
var sb = new StringBuffer("");
var d2 = new Date();
for (var i=0; i<total; i++) {
	sb.append("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");
}
d2 = new Date()-d2;


//字符串 + 号拼接小文本：
var s3 = "";
var d3 = new Date();
for (var i=0; i<total; i++) {
	s3+="a";
}
d3 = new Date()-d3;


//StringBuffer拼接小文本:
var sb4 = new StringBuffer("");
var d4 = new Date();
for (var i=0; i<total; i++) {
	sb4.append("a");
}
d4 = new Date()-d4;
document.write("<strong>拼接大文本</strong>：<br />字符串 + 号 : "+d+"<br />StringBuffer : "+d2+"<br />");
document.write("<strong>拼接小文本</strong>：<br />字符串 + 号 : "+d3+"<br />StringBuffer : "+d4);
</script>
</body>
</html>
