<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>link target</title>
<meta name="generator" content="Editplus">
<meta name="author" content="é—²è€˜ (mail[AT]xianyun.org">
<meta name="keywords" content="">
<meta name="description" content="">
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script src="../net/URL.js"></script>
<script src="../utils/equals.js"></script>
</head>
<body>

<a href="http://blog.xianyun.org">before at outter</a>
<a href="http://127.0.0.1:8000">before at inner</a>

<script language="javascript">/*<![CDATA[*/

var Links = {
target:function(){
	var lk = document.getElementsByTagName("A"), dm=location.host;
	for (var i=0, l=lk.length; i<l; i++){
		var u=URL(lk[i].href);
		var h=u.host+(u.port?":"+u.port:"");
		if(h.equals(dm,true))
			lk[i].removeAttribute("target");
		else
			lk[i].target="_blank";
	}
}
};

window.onload = Links.target;


/*]]>*/</script>

<a href="http://www.xianyun.org">after at out</a>
<a href="http://127.0.0.1:8000/htblog">aftre at inner</a>
<a href="/htblog">aftre at inner without host</a>

</body>
</html>