<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
HOTOO Javascript API Specification Overview
</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="Date.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b>HOTOO Javascript API Specification</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>Date.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		No overview generated for 'Date.js'<BR/><BR/>
	
</p>

<hr>


    <table border="1" cellpadding="3" cellspacing="0" width="100%">
    <tr bgcolor="#CCCCFF" class="TableHeadingColor">
    <td colspan=2><font size="+2">
    
        <b>Class Summary</b>
    
    </font></td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="Date/getDays1Month.html">Date.getDays1Month</a></b></td>
    <td>&nbsp;</td>
    </tr>
    
    </table>
    <hr/> 


<!-- ========== METHOD SUMMARY =========== -->

	<a name="method_summary"><!-- --></a>
	<table border="1" cellpadding="3" cellspacing="0" width="100%">
		<tr bgcolor="#CCCCFF" class="TableHeadingColor">
			<td colspan=2>
				<font size="+2">
					<b>Method Summary</b>
				</font>
			</td>
		</tr>
	
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;<a href="Object.html">Object</a></code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!Date_Compare">Date_Compare</a></b>(asStartDate,asEndDate)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;<a href="Object.html">Object</a></code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!Date_getDay">Date_getDay</a></b>(aiYear,aiMonth)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;<a href="Object.html">Object</a></code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!Date_istrue">Date_istrue</a></b>(asDate)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
	
	</table>
    <p>

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="comment">/*&lt;![CDATA[*/</span>
<span class="comment">/** Date.js, object.
 * <span class="attrib">@author</span> 闲耘 (hotoo.cn[AT]gmail.com)
 */</span>

<span class="comment">/** 获得日期的正确年份。为了兼容IE和FF等浏览器之间getYear()不同的实现，
 * 建议直接使用getFullYear()或getUTCFullYear()。
 * <span class="attrib">@return</span> {Number, Integer} 当前完整年份
 * <span class="attrib">@version</span> 2007/08/03
 */</span>
Date.<span class="reserved">prototype</span>.getCorrectYear = <span class="reserved">function</span>(){
    <span class="reserved">return</span> <span class="reserved">this</span>.getFullYear(); <span class="comment">// 0.</span>
    <span class="comment">//return this.getUTCFullYear(); // 1.</span>
    <span class="comment">//var y = this.getYear();</span>
    <span class="comment">//return Browser.isIE &amp;&amp; y&gt;=2000? y : (y+1900); // 2.</span>
    <span class="comment">//!return (y&lt;1900)?(1900+y):y; // 3.when y &lt; 1900*2</span>
};

Date.<span class="reserved">prototype</span>.isWeekend = <span class="reserved">function</span>(){
	<span class="reserved">return</span> <span class="reserved">this</span>.getDay()%6 ? false : true
};

Date.<span class="reserved">prototype</span>.getMDate = <span class="reserved">function</span>(){
	<span class="reserved">return</span> (new Date(<span class="reserved">this</span>.getFullYear(), <span class="reserved">this</span>.getMonth()+1, 0).getDate());
};

<span class="comment">/** 当前日期与另一日期比较。
 * <span class="attrib">@param</span> date, Date. 相比较的日期对象。
 * <span class="attrib">@return</span> Number, Long. 两个日期毫秒差值。
 * <span class="attrib">@create</span> 2007/08/03
 */</span>
<span class="reserved">if</span> (!Date.<span class="reserved">prototype</span>.compare){
Date.<span class="reserved">prototype</span>.compare = <span class="reserved">function</span>(date){
    <span class="reserved">return</span> <span class="reserved">this</span>-date;
};
}

<span class="comment">/** 取得某年某月的天数
 * <span class="attrib">@param</span> year, Number, Integer.
 * <span class="attrib">@param</span> month, Number, Integer.
 * <span class="attrib">@return</span> Number, Integer.
 * <span class="attrib">@create</span> 2007/08/03
 */</span>
Date.getDays1Month = <span class="reserved">function</span>(year, month){
    var d = [31,28,31,30,31,30,31,31,30,31,30,31];
    <span class="reserved">if</span> (year%4==0){d[1]=29;}
    <span class="reserved">return</span> d[month-1];
};
Date.<span class="reserved">prototype</span>.getDays1Month = <span class="reserved">function</span>(month){
    <span class="reserved">return</span> Date.getDays1Month(<span class="reserved">this</span>.getFullYear(), <span class="reserved">this</span>.getMonth());
};

<span class="comment">/** 
 * 将日期格式化为指定字符串。
 * 题外话：取后两位有比较数值和String.right(2)两种方法，但是数值比较的效率较高。
 * <span class="attrib">@param</span> {String} f 使用YYYY/YY,MM/M,DD/D,hh/h,mm/m,ss/s,ms分别表示每个日期值保留的位数。
 * 	注意/存在的问题：格式化字符串中不能出现非格式化使用的YYYY,YY,MM,M,DD,D,hh,h,mm,m,ss,s,ms等字符串。
 * 	解决办法：格式化字符串的各个子串外使用大括号{}包括，如：{YY}/{M}/{D}。这样则需要使用第二个为true的参数。
 * <span class="attrib">@param</span> {Boolean} e 精确(exactitude)，默认为false。为true则需要将YY等字符串以大括号包括，如{YY}。
 * <span class="attrib">@return</span> {String} 返回按照指定格式输出的字符串。
 * <span class="attrib">@version</span> 2007/08/03, 2008/3/24
 * <span class="attrib">@example</span> &lt;code&gt;new Date().format("YYYY年MM月DD日 hh时mm分ss秒")&lt;/code&gt;
 * 	result : 2007年08月03日 10时13分12秒
 */</span>
Date.<span class="reserved">prototype</span>.format =	<span class="reserved">function</span>(f, e){
	var Y = <span class="reserved">this</span>.getFullYear();
	var	d =	f.replace(e?/\{Y{4}\}/g:/Y{4}/g, Y);
	var y = Y%100;
	d =	d.replace(e?/\{YY\}/g:/YY/g, y&gt;9?y:<span class="literal">"0"</span>+y);
	var M = <span class="reserved">this</span>.getMonth()+1;
	d =	d.replace(e?/\{MM\}/g:/MM/g, M&gt;9?M:<span class="literal">"0"</span>+M);
	d =	d.replace(e?/\{M\}/g:/M/g, M);
	var D = <span class="reserved">this</span>.getDate();
	d =	d.replace(e?/\{DD\}/g:/DD/g, D&gt;9?D:<span class="literal">"0"</span>+D);
	d =	d.replace(e?/\{D\}/g:/D/g, D);

	var h = <span class="reserved">this</span>.getHours();
	d =	d.replace(e?/\{hh\}/g:/hh/g, h&gt;9?h:<span class="literal">"0"</span>+h);
	d =	d.replace(e?/\{h\}/g:/h/g, h);
	var m = <span class="reserved">this</span>.getMinutes();
	d =	d.replace(e?/\{mm\}/g:/mm/g, m&gt;9?m:<span class="literal">"0"</span>+m);
	d =	d.replace(e?/\{m\}/g:/m/g, m);
	var s = <span class="reserved">this</span>.getSeconds();
	d =	d.replace(e?/\{ss\}/g:/ss/g, s&gt;9?s:<span class="literal">"0"</span>+s);
	d =	d.replace(e?/\{s\}/g:/s/g, s);
	var ms = <span class="reserved">this</span>.getMilliseconds();
	d = d.replace(e?/\{ms\}/g:/ms/g, ms);

	<span class="reserved">return</span> d;
};

        <span class="comment">/* -- 计算两个字符(YYYY-MM-DD)的日期相隔天数 -- */</span>
<span class="reserved">function</span> Date_Compare(asStartDate,asEndDate){
 var miStart = Date.parse(asStartDate.replace(/\-/g, <span class="literal">'/'</span>));
 var miEnd   = Date.parse(asEndDate.replace(/\-/g, <span class="literal">'/'</span>));
 <span class="reserved">return</span> (miEnd-miStart)/(1000*24*3600);
}

      <span class="comment">/*-- 判断一个字符串(YYYY-MM-DD)的日期是否正确 -- */</span>
<span class="reserved">function</span> Date_istrue(asDate){
 var lsDate  = asDate + <span class="literal">""</span>;
 var loDate  = lsDate.split(<span class="literal">"-"</span>);
 <span class="reserved">if</span> (loDate.length!=3) <span class="reserved">return</span> false;
 var liYear  = parseInt(loDate[0]);
 var liMonth = parseInt(loDate[1]);
 var liDay   = parseInt(loDate[2]);
 <span class="reserved">if</span> ((loDate[0].length&gt;4)||(loDate[1].length&gt;2)||(loDate[2].length&gt;2)) <span class="reserved">return</span> false;
 <span class="reserved">if</span> (isNaN(liYear)||isNaN(liMonth)||isNaN(liDay)) <span class="reserved">return</span> false;
 <span class="reserved">if</span> ((liYear&lt;1900)||(liYear&gt;3000)) <span class="reserved">return</span> false;
 <span class="reserved">if</span> ((liMonth&gt;12)||(liMonth&lt;=0))   <span class="reserved">return</span> false;
 <span class="reserved">if</span> (Date_getDay(liYear,liMonth)&lt;liDay) <span class="reserved">return</span> false;
 <span class="reserved">return</span> !isNaN(Date.UTC(liYear,liMonth,liDay));
}

      <span class="comment">/*-- 返回某年某月的天数-- */</span>
<span class="reserved">function</span> Date_getDay(aiYear,aiMonth){
 var loDay = [0,31,28,31,30,31,30,31,31,30,31,30,31];
 <span class="reserved">if</span> (aiYear%4==0) loDay[2] = 29;
 <span class="reserved">return</span> loDay[aiMonth];
}
<span class="comment">/*]]&gt;*/</span></pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b>HOTOO Javascript API Specification</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">
Copyright &copy; 2008 by hotoo
</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Sat Mar 29 23:30:03 2008</div>
</body>
</html>
