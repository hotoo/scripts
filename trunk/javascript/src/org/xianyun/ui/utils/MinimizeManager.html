<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>Minimize Manager demo</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script type="text/javascript" src="../../utils/equals.js"></script>
<script type="text/javascript" src="../../lang/Array.js"></script>
<script type="text/javascript">
/**
 * 最小化管理器。对象最小化时，显示小部分提示文本和/或图标“固定”浮动在浏览器的底部
 * （低版本浏览器通过监听scroll事件实现，高版本浏览器通过position:fixed实现。）
 */
var MinimizeManager = {
	_list:[],
	_box:null,
	/**
	 * 向最小化管理器中添加一项。
	 * @param {Object, Window} o 被最小化的对象。对象在最小化时只需要隐藏自身，然后向管理器中添加一项即可；
	 * 	激活时将删除管理器中对应对象，并执行对象的restore方法。
	 * @param {String} t 对象的标题，也可以是与标题不同的提示性文本。
	 * @param {Image, String} i 对象的图标(icon)，如果没有则使用默认值/忽略。
	 */
	add:function(o, t, i){
		if (!MinimizeManager._box){
			MinimizeManager._box = document.createElement("div");
			MinimizeManager._box.style.cssText = "border:0px solid #f00;position:absolute;top:400px;left:0px;z-index:200;width:100%;";
			document.body.appendChild(MinimizeManager._box);
		}
		if (!MinimizeManager._list.contains(o)){
			MinimizeManager._list.push(o);
			var w = document.createElement("span");
			w.innerHTML = "<span style='border:1px solid #ccc;'>"+(i?"<img src='"+i+"' />":"")+t+"</span> ";
			MinimizeManager._box.appendChild(w)
		}
		return o;
	},
	remove:function(o){}
};

</script>
</head>
<body>

abc
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
def
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
ghi
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<script type="text/javascript">
document.body.onclick = function(){
	MinimizeManager.add({}, "Mined demo", "../windows/icon/application_xp_terminal.png");
};
</script>
</body>
</html>
