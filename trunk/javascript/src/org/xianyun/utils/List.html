<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>List</title>
<meta name="generator" content="Editplus">
<meta name="author" content="闲耘 (xianyun.org, hotoo.cn[AT]gmail.com)">
<meta name="keywords" content="">
<meta name="description" content="">
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script language="javascript" type="text/javascript" src=""></script>
<link href="" type="text/css" rel="stylesheet" />
</head>
<body>
<script language="javascript">/*<![CDATA[*/
/**
 * 单向线性有序链表。
 * @author 闲耘 (xianyun.org, hotoo.cn[AT]gmail.com)
 * @create 2007/07/21
 */
var List = function(){
    this.elements = new Array();
    for (var i=0; i<arguments.length; i++){
        this.elements.push(arguments[i]);
    }
};
List.prototype.isEmpty = function(){
    return this.elements.length==0;
};
List.prototype.getLength = function(){
    return this.elements.length;
};
List.prototype.getElement = function(index){
    return this.elements[index];
};
List.prototype.equals = function(list){
    if (this.elements.length!=list.length){return false;}
    for (var i=0; i<this.elements.length; i++){
        if (this.elements[i]!=list[i]){
            return false;
        }
    }
    return true;
};
List.prototype.getPrevious = function(element){
    var _i = this.getIndex(element);
    return _i<0?null:this.elements[_i+1]; // if _i+1>this.elements.length, will return null/undefined.
    /*for (var i=this.elements.length-1; i>=0; i--){
        if (element==this.elements[i] && i>0){
            return this.elements[i-1];
        }
    }
    return null;*/
};
List.prototype.getNext = function(element){
    var _i = this.getIndex(element);
    return _i>=0&&_i<this.elements.length-1?this.elements[_i+1]:null;
    /*for (var i=0; i<this.elements.length; i++){
        if (element==this.elements[i] && i<this.elements.length-1){
            return this.elements[i+1];
        }
    }
    return null;*/
};
List.prototype.getIndex = function(element){
    for (var i=0; i<this.elements.length; i++){
        if (element==this.element[i]){
            return i;
        }
    }
    return -1;
};
List.prototype.insert = List.prototype.insertBefore = function(index, element){
    if (index<0 || index>=this.elements.length){
        throw Error("param 'index' error."); return false;
    }
    var _a = new Array();
    /*for (var i=this.elements.length-1; i>=index; i--){ // "while" may be better than "for".
        _a.push(this.elements.pop());
    }*/
    while (this.elements.length>=index+1){
        _a.push(this.elements.pop());
    }
    this.elements.push(element);
    while (_a.length>0){
        this.elements.push(_a.pop());
    }
    return this.elements.length;
};
List.prototype.$delete = function(index){
    if (index<0 || index>=this.elements.length){
        throw Error("param 'index' error."); return false;
    }
    var _a = new Array();
    /*for (var i=this.elements.length-1; i>index; i--){
        _a.push(this.elements.pop());
    }*/
    while (this.elements.length>=index+2){
        _a.push(this.elements.pop());
    }
    var _e = this.elements.pop();
    while (_a.length>0){
        this.elements.push(_a.pop());
    }
    return _e;
};
List.prototype.toString = function(){
    return this.elements.toString();
};
List.prototype.valueOf = function(){
    return this.elements.valueOf();
};
//@TODO
//Stack.prototype.traverse = function(visit()){};
/*]]>*/</script>


<script language="javascript">/*<![CDATA[*/
var l = new List("0","1","2","3","4","5","6","7");
alert(l instanceof Array);
document.write(l+"<br />");
l.insert(0, "8");
document.write(l+"<br />");
document.write(l.$delete(0)+"<br />");
document.write(l+"<br />");

/*]]>*/</script>
</body>
</html>