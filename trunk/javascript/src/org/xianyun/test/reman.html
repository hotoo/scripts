<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8">
<html>
<head>
<title>t</title>
<meta name="generator" content="Editplus" />
<meta name="author" content="闲耘 (mail[AT]xianyun.org)" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script language="javascript" type="text/javascript" src=""></script>
<link href="" type="text/css" rel="stylesheet" />
</head>
<body>
<script type="text/javascript" language="javascript">/*<![CDATA[*/
int decode(char c)
{
    switch (c)
    {
           case 'I':return 1;
           case 'V':return 5;
           case 'X':return 10;
           case 'L':return 50;
           case 'C':return 100;
           case 'D':return 500;
           case 'M':return 1000;
    }
    return -1;
}

 

int romanToDex(char *str,int n)
{                         //罗马数字转十进制数
    int i,ret = 0;
    for(i = 0; i < n; i )
    {
        if(i 1 < n && decode(*(str i)) < decode(*(str i 1)))
        {
            ret = decode(*(str i 1))-decode(*(str i));
            i ;
            continue;
        }
        ret = decode(*(str i));
    }
    return ret;
}

 

void dexToRoman(int num,char *str)
{                      //十进制数转罗马数字
     int cnt;
     cnt = num/1000;
     memset(str,'M',cnt);
     str = cnt;
     num %= 1000;
    
     if(num >= 900)
     {
         *str = 'C';
         *str = 'M';
         num %= 900;
     }
     else if(num >= 500)
     {
          *str = 'D';
          num %= 500;
     }
     else if(num >= 400)
     {
          *str = 'C';
          *str = 'D';
          num %= 400;
     }
     cnt = num/100;
     memset(str,'C',cnt);
     str = cnt;
     num %= 100;
     if(num >= 90)
     {
         *str = 'X';
         *str = 'C';
         num %= 90;  
     }
     else if(num >= 50)
     {
          *str = 'L';
          num %= 50;
     }
     else if(num >= 40)
     {
          *str = 'X';
          *str = 'L';
          num %= 40;
     }
     cnt = num/10;
     memset(str,'X',cnt);
     str = cnt;
     num %= 10;
     if(num == 9)
     {
         *str = 'I';
         *str = 'X';
         num = 0;
     }
     else if(num >= 5)
     {
          *str = 'V';
          num -= 5;
     }
     else if(num == 4)
     {
          *str = 'I';
          *str = 'V';
          num -= 4;
     }
     memset(str,'I',num);
     str = num;
     *str = 0;
}
/*]]>*/</script>
</body>
</html>