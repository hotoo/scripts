<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
HOTOO Javascript API Specification Overview
</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="Number.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b>HOTOO Javascript API Specification</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>Number.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		No overview generated for 'Number.js'<BR/><BR/>
	
</p>

<hr>



<!-- ========== METHOD SUMMARY =========== -->

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="comment">/*&lt;![CDATA[*/</span>
<span class="comment">/** org.xianyun.system.Number
 * 系统数值对象Number扩展方法。注：数值常量 instanceof Number == false;
 * 错误用法：1.method()
 * 正确用法：(1).method() 或 Number(1).method() 或 new Number(1).method()，以及静态方法：Number.method(1)。
 * 方法放在Number“名字空间”下，意义比较明确，一定程度上避免了命名冲突。
 *
 * <span class="attrib">@authod</span> 闲耘 (hotoo.cn[AT]gmail.com)
 */</span>

<span class="comment">/**
 * 圆周率(π)小数位精度为E-14的值。
 * <span class="attrib">@type</span> {Number}
 */</span>
Number.PI = 3.1415926535897932384626433832795;

<span class="comment">/**
 * 自然对数的底。
 */</span>
Number.E = 2.7182818284590452;

<span class="comment">/**
 * 黄金分割近似值。
 * 即把一根线段分为长短不等的a、b两段，
 * 使其中长线段的比（即a+b）等于短线段b对长线段a的比，
 * 列式即为 a:(a+b) = b:a，其比值为0.6180339……
 * 比值 = (√5-1)/2 ≈ 0.6180339887498949 (Javascript计算结果)
 */</span>
Number.GOLDEN_SECTION = 0.6180339887498949;

<span class="comment">/** 判断当前数值对象的类型是否为"number"。
 * 如果对象是数值对象，类型则肯定是"number"（typeof number=="number"），
 * 写此方法纯粹是为了简写typeof number=="number"成为这样：number.typeOf("number")（实际上并没有简化）
 * （这也参照了 number instanceof Number，也可以写成这样：number instanceof(Number)，
 * 某些对象我也实现了Object.prototype.instanceOf()方法），
 * 和使判断对象类型的方法面向对象化，以及在所有对象中实现这一方法，以便代码统一（see String.prototype.typeOf()）。
 *
 * 为什么没有定义成员属性：Number.prototype.TYPE="number" 
 * 或者 Number.prototype.type="number"，然后这样调用：num.type=="number"？
 * 忘记了。
 *
 * <span class="attrib">@ps</span> 这些方法没有什么实用价值。
 * <span class="attrib">@comment</span> at 2007/08/03
 */</span>
Number.<span class="reserved">prototype</span>.typeOf = <span class="reserved">function</span>(type){
    <span class="reserved">return</span> type == <span class="literal">'number'</span>;
};

<span class="comment">/**
 * 判断当前数值对象是否是整数。
 * <span class="attrib">@return</span> {Boolean} true，如果数值是整数，否则返回false。
 */</span>
Number.<span class="reserved">prototype</span>.isInteger = <span class="reserved">function</span>(){
    <span class="comment">//return parseInt(this.valueOf())===this.valueOf();</span>
	<span class="reserved">return</span> /^[+-]?\d+$/.test(<span class="reserved">this</span>);
};

<span class="comment">/**
 * 判断数值是否是为正数。
 * <span class="attrib">@return</span> {Boolean} true，如果数值是正数，否则返回false。
 */</span>
Number.<span class="reserved">prototype</span>.isPositive = <span class="reserved">function</span>(){
	<span class="reserved">return</span> <span class="reserved">this</span>&gt;0;
};

<span class="comment">/**
 * 判断数值是否是为负数。
 * <span class="attrib">@return</span> {Boolean} true，如果数值是负数，否则返回false。
 */</span>
Number.<span class="reserved">prototype</span>.isNegative = <span class="reserved">function</span>(){
	<span class="reserved">return</span> <span class="reserved">this</span>&lt;0;
};

<span class="comment">/**
 * 判断数值是否为正整数。
 * <span class="attrib">@return</span> {Boolean} true，如果数值为正整数，否则返回false。
 */</span>
Number.<span class="reserved">prototype</span>.isPositiveInteger = <span class="reserved">function</span>(){
	<span class="reserved">return</span> <span class="reserved">this</span>.isPositive() &amp;&amp; <span class="reserved">this</span>.isInteger();
};

<span class="comment">/**
 * 判断数值是否为负整数。
 * <span class="attrib">@return</span> {Boolean} true，如果数值为负整数，否则返回false。
 */</span>
Number.<span class="reserved">prototype</span>.isNegativeInteger = <span class="reserved">function</span>(){
	<span class="reserved">return</span> <span class="reserved">this</span>.isNegative() &amp;&amp; <span class="reserved">this</span>.isInteger();
};

<span class="comment">//Number.prototype.isLong = function(){window.alert("implement...");};</span>

<span class="comment">/**
 * 判断当前数字的值是否为奇数（定义：不能被2整除的(整)数，如1，3和5）。
 * 关于零(0)是否属于偶数，目前似乎尚无定论，这里不予理会，作为偶数处理。
 * <span class="attrib">@return</span> {Boolean} true，如果当前值是奇数，否则，返回false。
 */</span>
Number.<span class="reserved">prototype</span>.isOdd = <span class="reserved">function</span>(){
	<span class="comment">/* Javascript整除(取模)运算：
	 * 被除数为正整数时，结果为0或1；
	 *       为负整数时，结果为0或-1；
	 *       为0时，结果为0；
	 *       为小数时，结果为正或负小数。
	 */</span>
	<span class="reserved">return</span> ((<span class="reserved">this</span>%2)!==0);
	<span class="comment">//return this.isInteger() &amp;&amp; ((this%2)!==0);</span>
};

<span class="comment">/**
 * 判断当前数值对象的值是否为质数（定义：除了1和它本身以外，不能再被别的整数整除）。
 * <span class="attrib">@return</span> {Boolean} true，当前数值对象是质数，否则返回false。
 */</span>
Number.<span class="reserved">prototype</span>.isPrime = <span class="reserved">function</span>(){
	<span class="reserved">if</span> (!<span class="reserved">this</span>.isInteger()) <span class="reserved">return</span> false;
	
	<span class="reserved">for</span> (var i=2; i&lt;<span class="reserved">this</span>; i++){
		<span class="reserved">if</span> (<span class="reserved">this</span>%i !== 1) <span class="reserved">return</span> false;
	}
	<span class="reserved">return</span> true;
};

<span class="comment">/**
 * 判断数值是否属于斐波纳契数列中的值。
 * <span class="attrib">@return</span> {Boolean} true，如果数值属于斐波纳契数列，否则返回false。
 */</span>
Number.<span class="reserved">prototype</span>.isFibonacci = <span class="reserved">function</span>(){
	<span class="reserved">for</span> (var i=1; i&lt;<span class="reserved">this</span>; i++){
		var f = Number.fibonacci(i);
		<span class="reserved">if</span> (<span class="reserved">this</span>&gt;f) continue;
		<span class="reserved">else</span> <span class="reserved">if</span> (f===<span class="reserved">this</span>) <span class="reserved">return</span> true;
		<span class="reserved">else</span> <span class="reserved">return</span> false;
	}
};
<span class="comment">/**
 * 求斐波纳契(fibonacci)数列中第index的值。
 * 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89...
 * 从第三个数起，每个数都是前两数之和。
 * 从第3个数开始每隔两个必是2的倍数，
 * 从第4个数开始每隔3个必是3的倍数，
 * 从第5个数开始每隔4个必是5的倍数...
 * 越往后，相邻两项的比值会无限趋向于黄金比1.61803...
 * 斐波纳契特征根方程解：an = (((1 + √5)/2)^n - ((1 - √5)/2)^n)/√5 
 * <span class="attrib">@param</span> {Number} index 指定的斐波纳契(fibonacci)数列索引值。
 * <span class="attrib">@return</span> {Number} 返回斐波纳契数列中第index个值。
 */</span>
Number.fibonacci = <span class="reserved">function</span>(index){
	<span class="reserved">if</span> (!index.inInteger() || index&lt;1)
		throw new Error(<span class="literal">"param must be integer number."</span>);
	<span class="reserved">return</span> (index===1||index===2)?
		1:Number.fibonacci(index-1)+Number.fibonacci(index-2);
};

<span class="comment">/** 判断数值对象参数是否是浮点数。
 * <span class="attrib">@param</span> n, Number, String, Object.
 * <span class="attrib">@return</span> Boolean.
 */</span>
<span class="reserved">if</span> (!Number.isFloat){
Number.isFloat = <span class="reserved">function</span>(n){
    <span class="reserved">return</span> <span class="reserved">this</span>.toString().test(/^\d*\.\d*$/);
};
}
<span class="comment">/** 判断当前数值对象是否是浮点数。
 * <span class="attrib">@param</span> void.
 * <span class="attrib">@return</span> Boolean.
 */</span>
<span class="reserved">if</span> (!Number.<span class="reserved">prototype</span>.isFloat){
Number.<span class="reserved">prototype</span>.isFloat = <span class="reserved">function</span>(){
    <span class="reserved">return</span> Number.isFloat(<span class="reserved">this</span>);
};
}
<span class="comment">//Number.prototype.isDouble = function(){throw new Error("implement...");};</span>

<span class="comment">/**
 * 十进制转换为十六进制格式字符串。
 * <span class="attrib">@return</span> {String}
 */</span>
Number.<span class="reserved">prototype</span>.toHex = <span class="reserved">function</span>(){
    <span class="reserved">return</span> <span class="reserved">this</span>.toString(16);
};

<span class="comment">/** 将数值（字符串型）用千分号分隔。
 * 返回 字符串型。
 * 注：没有放在String.js的原因是这个不是为String写的。
 */</span>
String.<span class="reserved">prototype</span>.commafy = <span class="reserved">function</span>(){
    var _n = <span class="reserved">this</span>.match(/(-?\d+)(\.\d*)?/);
    var __n = _n[1].match(/(-?\d{0,3})((?:\d{3})*)/);
    <span class="reserved">return</span> __n[1] + __n[2].replace(/(\d{3})/g, <span class="literal">",$1"</span>) + <span class="comment">// integer.</span>
        _n[2].replace(/(\d{3})/g, <span class="literal">"$1,"</span>).replace(/(.*),$/, <span class="literal">"$1"</span>); <span class="comment">// decimal.</span>
};
Number.<span class="reserved">prototype</span>.commafy = <span class="reserved">function</span>(){
    <span class="reserved">return</span> <span class="reserved">this</span>.toString().commafy();
};

<span class="comment">/** 将数值（字符串型）去除千分号分隔。
 * 返回 字符串型。
 * 注：没有放在String.js的原因是这个不是为String写的。
 */</span>
String.<span class="reserved">prototype</span>.decommafy = <span class="reserved">function</span>(){
    <span class="reserved">return</span> <span class="reserved">this</span>.replace(/,/g, <span class="literal">""</span>);
};


Number.getMax = <span class="reserved">function</span>(num0, num1){
    <span class="reserved">return</span> Math.max(num0, num1);
};
Number.getMax2 = <span class="reserved">function</span>(num0, num1){
    <span class="reserved">return</span> num0&gt;num1 ? num0 : num1;
};


Number.getMin = <span class="reserved">function</span>(num0, num1){
    <span class="reserved">return</span> Math.min(num0, num1);
};
Number.getMin2 = <span class="reserved">function</span>(num0, num1){
    <span class="reserved">return</span> num0&lt;num1 ? num0 : num1;
};


<span class="comment">/** 获得一组数值对象参数中的最大数。
 * <span class="attrib">@param</span> unknow, arguments, Number.
 * <span class="attrib">@return</span> Number.
 * <span class="attrib">@create</span> 2007/08/04
 */</span>
<span class="reserved">if</span> (!Number.max){
Number.max = <span class="reserved">function</span>(){
    var max = arguments[0];
    <span class="reserved">for</span> (var i=1; i&lt;arguments.length; i++){
        max = (arguments[i]&gt;max ? arguments[i] : max);
    }
    <span class="reserved">return</span> max;
};
}

<span class="comment">/** 获得一组数值对象参数中的最小数。
 * <span class="attrib">@param</span> nuknow, arguments, Number.
 */</span>
<span class="reserved">if</span> (!Number.min){
Number.min = <span class="reserved">function</span>(){
    var min = arguments[0];
    <span class="reserved">for</span> (var i=1; i&lt;arguments.length; i++){
        min = (arguments[i]&lt;min ? arguments[i] : min);
    }
    <span class="reserved">return</span> min;
};
}

<span class="comment">/** 四舍五入。
 * <span class="attrib">@param</span> void.
 * <span class="attrib">@return</span> Number, Integer.
 * <span class="attrib">@create</span> 2007/08/04
 */</span>
<span class="reserved">if</span> (!Number.round){
Number.round = <span class="reserved">function</span>(n){
    <span class="reserved">return</span> Math.round(n);
};
Number.round2 = <span class="reserved">function</span>(n){
    var i = parseInt(n);
    <span class="reserved">if</span> (n&gt;=0){
        <span class="reserved">return</span> (n-i&gt;=0.5) ? (i+1) : i;
    }<span class="reserved">else</span> {
        <span class="reserved">return</span> (i-n&gt;=0.5) ? (i-1) : i;
    }
};
}
<span class="reserved">if</span> (!Number.<span class="reserved">prototype</span>.round){
Number.<span class="reserved">prototype</span>.round = <span class="reserved">function</span>(){
    <span class="reserved">return</span> Math.round(<span class="reserved">this</span>);
}
Number.<span class="reserved">prototype</span>.round2 = <span class="reserved">function</span>(){
    <span class="reserved">return</span> Number.round(<span class="reserved">this</span>);
};
}

<span class="comment">/** 向上取整。
 * <span class="attrib">@param</span> void.
 * <span class="attrib">@return</span> Number, Integer.
 * <span class="attrib">@create</span> 2007/08/04
 */</span>
<span class="reserved">if</span> (!Number.roundingUp){
Number.roundingUp = <span class="reserved">function</span>(n){
    var i = parseInt(n);
    <span class="reserved">if</span> (n&gt;=0){
        <span class="reserved">return</span> i==n ? i : i+1;
    } <span class="reserved">else</span> {
        <span class="reserved">return</span> i;
    }
};
}
<span class="reserved">if</span> (!Number.<span class="reserved">prototype</span>.roundingUp){
Number.<span class="reserved">prototype</span>.roundingUp = <span class="reserved">function</span>(){
    <span class="reserved">return</span> Number.roundingUp(<span class="reserved">this</span>);
};
}

<span class="comment">/** 向下取整。
 * <span class="attrib">@param</span> void.
 * <span class="attrib">@return</span> Number, Integer.
 * <span class="attrib">@create</span> 2007/08/04
 */</span>
<span class="reserved">if</span> (!Number.roundingDown){ <span class="comment">// alow rounding</span>
Number.roundingDown = <span class="reserved">function</span>(n){
    var i = parseInt(n);
    <span class="reserved">if</span> (n&lt;0){
        <span class="reserved">return</span> i==n ? i : i-1;
    } <span class="reserved">else</span> {
        <span class="reserved">return</span> i;
    }
};
}
<span class="reserved">if</span> (!Number.<span class="reserved">prototype</span>.roundingDown){
Number.<span class="reserved">prototype</span>.roundingDown = <span class="reserved">function</span>(){
    <span class="reserved">return</span> Number.roundingDown(<span class="reserved">this</span>);
};
}

<span class="comment">/** 将数值格式化输出
 * <span class="attrib">@param</span> format, String.
 * <span class="attrib">@return</span> String.
 * eg: num.format("00.0000E0");
 * 参数中带E表示格式化为浮点型，小数点前的保留2位整数，小数点后保留4位小数
 * <span class="attrib">@create</span> 2007/08/03
 */</span>
<span class="reserved">if</span> (!Number.<span class="reserved">prototype</span>.format){
Number.<span class="reserved">prototype</span>.format = <span class="reserved">function</span>(format){
    window.alert(<span class="literal">"unimplemented"</span>);
};
}
Number.<span class="reserved">prototype</span>.format = <span class="reserved">function</span>(len){
	<span class="reserved">return</span> ((new Array(len).join(<span class="literal">"0"</span>)+(<span class="reserved">this</span>|0)).slice(-len));
};

<span class="comment">/** 
 *
 *
 */</span>
<span class="comment">/*]]&gt;*/</span></pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b>HOTOO Javascript API Specification</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">
Copyright &copy; 2008 by hotoo
</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Sat Mar 29 23:30:03 2008</div>
</body>
</html>
