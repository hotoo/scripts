<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
HOTOO Javascript API Specification Overview
</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="Calender.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b>HOTOO Javascript API Specification</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>Calender.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		No overview generated for 'Calender.js'<BR/><BR/>
	
</p>

<hr>



<!-- ========== METHOD SUMMARY =========== -->

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="comment">/*&lt;![CDATA[*/</span>
<span class="comment">/** 
 * <span class="attrib">@class</span> Calender.js
 * <span class="attrib">@version</span> 1.0.0
 * <span class="attrib">@create</span> 
 * <span class="attrib">@update</span> 
 * <span class="attrib">@author</span> 闲耘 (hotoo.cn[AT]gmail.com)
 */</span>


Date.<span class="reserved">prototype</span>.getDays1Month = <span class="reserved">function</span>(month){
    <span class="reserved">return</span> Date.getDays1Month(<span class="reserved">this</span>.getFullYear(), <span class="reserved">this</span>.getMonth());
};

Date.getPrevMonth = <span class="reserved">function</span>(year, month){
    <span class="reserved">return</span> {
        <span class="literal">"year"</span> : month==1?year-1:year,
        <span class="literal">"month"</span> : month==1?12:month-1
    };
};
Date.getNextMonth = <span class="reserved">function</span>(year, month){
    <span class="reserved">return</span> {
        <span class="literal">"year"</span> : month==12?year+1:year,
        <span class="literal">"month"</span> : month==12?1:month+1
    };
};
Date.getPrevDay = <span class="reserved">function</span>(year, month, day){
    var m = day==1?(month==1?12:month-1):month;
    <span class="reserved">return</span> {
        <span class="literal">"year"</span> : month==1&amp;&amp;day==1?year-1:year,
        <span class="literal">"month"</span> : m,
        <span class="literal">"day"</span> : day==1?Date.getDays1Month(year, m):day-1
    };
};
Date.getNextDay = <span class="reserved">function</span>(year, month, day){
    var d = Date.getDays1Month(year, month);
    <span class="reserved">return</span> {
        <span class="literal">"year"</span> : month==12&amp;&amp;day==d
    };
};
alert(Date.getPrevDay(2007, 1, 1).day);

var HTCalendar = <span class="reserved">function</span>(vname){
    <span class="reserved">this</span>.name = vname;
    var now = new Date();
    <span class="reserved">this</span>.date = new Date(now.getFullYear(), now.getMonth(), 1);
    <span class="reserved">this</span>.PREV_MONTH = null;
    <span class="reserved">this</span>.CURR_MONTH = null;
    <span class="reserved">this</span>.NEXT_MONTH = null;
};
HTCalendar.LANG = <span class="literal">"ZH-CN"</span>;
HTCalendar.MONTHS = {
<span class="literal">"EN"</span>:[<span class="literal">"January"</span>, <span class="literal">"February"</span>, <span class="literal">"March"</span>, <span class="literal">"April"</span>, <span class="literal">"May"</span>, <span class="literal">"June"</span>, <span class="literal">"July"</span>, <span class="literal">"August"</span>, <span class="literal">"September"</span>, <span class="literal">"October"</span>, <span class="literal">"November"</span>, <span class="literal">"December"</span>],
<span class="literal">"EN1"</span>:[<span class="literal">"Jan."</span>, <span class="literal">"Feb."</span>, <span class="literal">"Mar."</span>, <span class="literal">"Apr."</span>, <span class="literal">"May"</span>, <span class="literal">"Jun."</span>, <span class="literal">"Jul."</span>, <span class="literal">"Aug."</span>, <span class="literal">"Sep."</span>, <span class="literal">"Oct."</span>, <span class="literal">"Nov."</span>, <span class="literal">"Dec."</span>],
<span class="literal">"EN2"</span>:[<span class="literal">"JAN."</span>, <span class="literal">"FEB."</span>, <span class="literal">"MAR."</span>, <span class="literal">"APR."</span>, <span class="literal">"MAY"</span>, <span class="literal">"JUN."</span>, <span class="literal">"JUL."</span>, <span class="literal">"AUG."</span>, <span class="literal">"SEP."</span>, <span class="literal">"OCT."</span>, <span class="literal">"NOV."</span>, <span class="literal">"DEC."</span>],
<span class="literal">"ZH-CN"</span>:[<span class="literal">"一月"</span>, <span class="literal">"二月"</span>, <span class="literal">"三月"</span>, <span class="literal">"四月"</span>, <span class="literal">"五月"</span>, <span class="literal">"六月"</span>, <span class="literal">"七月"</span>, <span class="literal">"八月"</span>, <span class="literal">"九月"</span>, <span class="literal">"十月"</span>, <span class="literal">"十一月"</span>, <span class="literal">"十二月"</span>]
};
HTCalendar.WEEKS = {
<span class="literal">"EN"</span>:[<span class="literal">"Sunday"</span>, <span class="literal">"Monday"</span>, <span class="literal">"Tuesday"</span>, <span class="literal">"Wednesday"</span>, <span class="literal">"Thursday"</span>, <span class="literal">"Friday"</span>, <span class="literal">"Saturday"</span>],
<span class="literal">"EN1"</span>:[<span class="literal">"Sun"</span>, <span class="literal">"Mon"</span>, <span class="literal">"Tue"</span>, <span class="literal">"Wed"</span>, <span class="literal">"Thu"</span>, <span class="literal">"Fri"</span>, <span class="literal">"Sat"</span>],
<span class="literal">"EN2"</span>:[<span class="literal">"SUN"</span>, <span class="literal">"MON"</span>, <span class="literal">"TUE"</span>, <span class="literal">"WED"</span>, <span class="literal">"THU"</span>, <span class="literal">"FRI"</span>, <span class="literal">"SAT"</span>],
<span class="literal">"ZH-CN"</span>:[<span class="literal">"星期日"</span>, <span class="literal">"星期一"</span>, <span class="literal">"星期二"</span>, <span class="literal">"星期三"</span>, <span class="literal">"星期四"</span>, <span class="literal">"星期五"</span>, <span class="literal">"星期六"</span>]
};

<span class="comment">/** 取得某年某月的天数
 * <span class="attrib">@param</span> year, Number, Integer.
 * <span class="attrib">@param</span> month, Number, Integer.
 * <span class="attrib">@return</span> Number, Integer.
 * <span class="attrib">@create</span> 2007/08/03
 */</span>
Calender.getDays1Month = <span class="reserved">function</span>(year, month){
    var d = [31,28,31,30,31,30,31,31,30,31,30,31];
    <span class="reserved">if</span> (year%4==0){d[1]=29;}
    <span class="reserved">return</span> d[month-1];
};

HTCalendar.<span class="reserved">prototype</span>.mousewheel = <span class="reserved">function</span>(e){
    e = window.event || e;
    document.getElementById(<span class="reserved">this</span>.name+<span class="literal">"_calendar_list"</span>).scrollTop -= (e.wheelDelta/12)*8;

};
HTCalendar.getMonthString = <span class="reserved">function</span>(year, month){
    var s = <span class="literal">'&lt;table border="1" cellpadding="2" width="75%"&gt;&lt;tr&gt;'</span>;

    <span class="comment">// 得到上个月最后的几天，用于补全列表。</span>
    var startDay = <span class="reserved">this</span>.date.getDay();
    var Y = <span class="reserved">this</span>.date.getFullYear();
    var M = <span class="reserved">this</span>.date.getMonth()+1;alert(Y+<span class="literal">":"</span>+M);
    var prev = Date.getDays1Month((M==1?Y-1:Y), (M==1?12:M-1));

    <span class="reserved">for</span>(i=0; i&lt;startDay ; i++){
        s += <span class="literal">"&lt;td vlign='top'&gt;&lt;div class='HTCalendarDay'&gt;"</span>+(prev-startDay+i)+<span class="literal">"&lt;/td&gt;"</span>;
    }

    var numDays = <span class="reserved">this</span>.date.getDays1Month();
    <span class="reserved">for</span>(i=0 ; i&lt;numDays ; i++){
        <span class="reserved">if</span>((i + startDay + 1 ) % 7 == 1 ){
            s += <span class="literal">"&lt;/tr&gt;&lt;tr&gt;"</span>;
        }
        s += <span class="literal">"&lt;td height='75' valign='top'&gt;&lt;b&gt;"</span> + (i+1) + <span class="literal">"&lt;/b&gt;&lt;/td&gt;"</span>; 
    }
    <span class="literal">'&lt;/tr&gt;'</span>+
    <span class="literal">'&lt;/table&gt;'</span>;
    s += <span class="literal">"&lt;/div&gt;"</span>;
    <span class="reserved">return</span> s;
};
HTCalendar.<span class="reserved">prototype</span>.toString = <span class="reserved">function</span>(){
    var s = <span class="literal">'&lt;table border="1" cellpadding="2" width="75%"&gt;'</span>+
      <span class="literal">'&lt;tr&gt;'</span>+
      <span class="literal">'  &lt;td colspan="7" align="center"&gt;'</span>+
      <span class="literal">'    &lt;font size="6"&gt;&lt;b&gt;'</span>+
             HTCalendar.MONTHS[HTCalendar.LANG][<span class="reserved">this</span>.date.getMonth()] + <span class="literal">" "</span> + <span class="reserved">this</span>.date.getFullYear() +
      <span class="literal">'    &lt;/b&gt;&lt;/font&gt;'</span>+
      <span class="literal">'   &lt;/td&gt;'</span>+
      <span class="literal">'&lt;/tr&gt;'</span>+
      <span class="literal">'&lt;tr&gt;'</span>+
      <span class="literal">'  &lt;td width="14%"&gt;&lt;b&gt;&lt;i&gt;'</span>+HTCalendar.WEEKS[HTCalendar.LANG][0]+<span class="literal">'&lt;/i&gt;&lt;/b&gt;&lt;/td&gt;'</span>+
      <span class="literal">'  &lt;td width="14%"&gt;&lt;b&gt;&lt;i&gt;'</span>+HTCalendar.WEEKS[HTCalendar.LANG][1]+<span class="literal">'&lt;/i&gt;&lt;/b&gt;&lt;/td&gt;'</span>+
      <span class="literal">'  &lt;td width="14%"&gt;&lt;b&gt;&lt;i&gt;'</span>+HTCalendar.WEEKS[HTCalendar.LANG][2]+<span class="literal">'&lt;/i&gt;&lt;/b&gt;&lt;/td&gt;'</span>+
      <span class="literal">'  &lt;td width="14%"&gt;&lt;b&gt;&lt;i&gt;'</span>+HTCalendar.WEEKS[HTCalendar.LANG][3]+<span class="literal">'&lt;/i&gt;&lt;/b&gt;&lt;/td&gt;'</span>+
      <span class="literal">'  &lt;td width="14%"&gt;&lt;b&gt;&lt;i&gt;'</span>+HTCalendar.WEEKS[HTCalendar.LANG][4]+<span class="literal">'&lt;/i&gt;&lt;/b&gt;&lt;/td&gt;'</span>+
      <span class="literal">'  &lt;td width="14%"&gt;&lt;b&gt;&lt;i&gt;'</span>+HTCalendar.WEEKS[HTCalendar.LANG][5]+<span class="literal">'&lt;/i&gt;&lt;/b&gt;&lt;/td&gt;'</span>+
      <span class="literal">'  &lt;td width="14%"&gt;&lt;b&gt;&lt;i&gt;'</span>+HTCalendar.WEEKS[HTCalendar.LANG][6]+<span class="literal">'&lt;/i&gt;&lt;/b&gt;&lt;/td&gt;'</span>+
      <span class="literal">'&lt;/tr&gt;&lt;/table&gt;'</span>;
      s += <span class="literal">"&lt;div id='"</span>+<span class="reserved">this</span>.name+<span class="literal">"_calendar_list' onmousewheel='"</span>+<span class="reserved">this</span>.name+<span class="literal">".mousewheel();'&gt;"</span>;
      s += HTCalendar.getMonthString(<span class="reserved">this</span>.date.getFullYear(), <span class="reserved">this</span>.date.getMonth());
    s += <span class="literal">"&lt;/div&gt;"</span>;
    <span class="reserved">return</span> s;
};

<span class="comment">/*]]&gt;*/</span></pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b>HOTOO Javascript API Specification</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">
Copyright &copy; 2008 by hotoo
</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Sat Mar 29 23:30:03 2008</div>
</body>
</html>
