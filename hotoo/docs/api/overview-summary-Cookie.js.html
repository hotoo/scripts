<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
HOTOO Javascript API Specification Overview
</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="Cookie.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b>HOTOO Javascript API Specification</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>Cookie.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		No overview generated for 'Cookie.js'<BR/><BR/>
	
</p>

<hr>



<!-- ========== METHOD SUMMARY =========== -->

	<a name="method_summary"><!-- --></a>
	<table border="1" cellpadding="3" cellspacing="0" width="100%">
		<tr bgcolor="#CCCCFF" class="TableHeadingColor">
			<td colspan=2>
				<font size="+2">
					<b>Method Summary</b>
				</font>
			</td>
		</tr>
	
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!deleteCookie">deleteCookie</a></b>(name)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;<a href="Object.html">Object</a></code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!getCookie">getCookie</a></b>(name)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!setCookie">setCookie</a></b>(name, value, session)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
	
	</table>
    <p>

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="comment">/** cn.hotoo.system.Cookie.js [methods]
 * <span class="attrib">@description</span> Cookie公用方法
 * 
 * <span class="attrib">@author</span> 闲耘 (hotoo.cn<span class="attrib">@gmail</span>.com)
 * <span class="attrib">@create</span> 2006-6-15
 * <span class="attrib">@update</span> 2007/05/23
 *
 */</span>

var Cookies = {
	getValue:<span class="reserved">function</span>(name){
		var RE=/;(\s+)=(.*?);((expires|path|domain)=(.*?))*;/;
	},
	
	<span class="comment">/**
	 * 以指定名称设置cookie的值，如果没有同名cookie，则新增之，否则覆盖之。
	 * <span class="attrib">@param</span> {Object} name
	 * <span class="attrib">@param</span> {Object} value
	 * <span class="attrib">@param</span> {Object} overtime
	 * <span class="attrib">@param</span> {Object} path
	 * <span class="attrib">@param</span> {Object} domain
	 */</span>
	setValue:<span class="reserved">function</span>(name,value,overtime,path,domain){
		<span class="reserved">if</span> (!name.isString()||name===<span class="literal">""</span>) throw new ArgumentException(<span class="literal">"cookie名必须是不为空的字符串"</span>);
		<span class="reserved">if</span> (!value.isString()) throw new ArgumentException(<span class="literal">"cookie值必须为字符串类型"</span>);
		<span class="reserved">if</span> (overtime===undefined) overtime=-1;
		<span class="reserved">else</span> <span class="reserved">if</span> (!overtime.isNumber()) throw new ArgumentException(<span class="literal">"过期需指定为设定之时起，有效的秒数。"</span>);
		<span class="reserved">if</span> (path===undefined) path=<span class="literal">"/"</span>;
		<span class="reserved">else</span> <span class="reserved">if</span> (!path.isString()) throw new ArgumentException(<span class="literal">"有效路径需为字符串类型。"</span>);
		<span class="reserved">if</span> (domain===undefined) domain=null;
	},
	deleteCookie:<span class="reserved">function</span>(){}
};

<span class="comment">// http://www.vipcn.com/InfoView/Article_174339.html</span>
<span class="comment">// http://www.113317.com/blog/article.asp?id=1416</span>

var Cookie = <span class="reserved">function</span>(name, value){
    <span class="reserved">this</span>.name = name;
    <span class="reserved">this</span>.value = escape(value);
    <span class="reserved">this</span>.maxAge = null;
    <span class="reserved">this</span>.expires = null;
    <span class="reserved">this</span>.path = null; <span class="comment">// 定义了Cookies只发给指定的路径请求，如果Path属性没有被设置，则使用应用软件的缺省路径。</span>
    <span class="reserved">this</span>.domain = null; <span class="comment">// 定义Cookies传送数据的唯一性。</span>
    <span class="reserved">this</span>.secure = null; <span class="comment">// 指定Cookies能否被用户读取。</span>
    <span class="reserved">this</span>.haskeys = false; <span class="comment">// 如果所请求的Cookies是一个具有多个键值的Cookies字典，则返回True，它是一个只读属性。</span>
};
Cookie.<span class="reserved">prototype</span>.getName = <span class="reserved">function</span>(){
    <span class="reserved">return</span> <span class="reserved">this</span>.name;
};
<span class="comment">/*Cookie.prototype.setName = function(name){
    this.name = name;
};*/</span>

Cookie.<span class="reserved">prototype</span>.getValue = <span class="reserved">function</span>(){
    <span class="reserved">return</span> decodeURIComponent(<span class="reserved">this</span>.value);<span class="comment">//unescape</span>
};
Cookie.<span class="reserved">prototype</span>.setValue = <span class="reserved">function</span>(value){
    <span class="reserved">this</span>.value = encodeURIComponent(value);<span class="comment">//escape</span>
};

Cookie.<span class="reserved">prototype</span>.getMaxAge = <span class="reserved">function</span>(){
    <span class="reserved">return</span> <span class="reserved">this</span>.maxAge;
};
Cookie.<span class="reserved">prototype</span>.setMaxAge = <span class="reserved">function</span>(maxAge){
    <span class="reserved">this</span>.maxAge = maxAge;
    <span class="reserved">if</span> (maxAge &gt; 0){
        <span class="reserved">this</span>.expires = new Date();
        <span class="reserved">this</span>.expires.setTime(<span class="reserved">this</span>.expires.getTime() + maxAge * 1000);
        <span class="reserved">this</span>.expires = <span class="reserved">this</span>.expires.toGMTString();
    } <span class="reserved">else</span> <span class="reserved">if</span>(maxAge == 0){
        <span class="reserved">this</span>.expires = <span class="literal">'Thu, 1 Jan 1970 00:00:00 UTC'</span>;
    } <span class="reserved">else</span> {
        <span class="reserved">this</span>.expires = null;
    }
};

Cookie.<span class="reserved">prototype</span>.getPath = <span class="reserved">function</span>(){
    <span class="reserved">return</span> <span class="reserved">this</span>.path;
};
Cookie.<span class="reserved">prototype</span>.setPath = <span class="reserved">function</span>(path){
    <span class="reserved">this</span>.path = path;
};

Cookie.<span class="reserved">prototype</span>.getDomain = <span class="reserved">function</span>(){
    <span class="reserved">return</span> <span class="reserved">this</span>.domain;
};
Cookie.<span class="reserved">prototype</span>.setDomain = <span class="reserved">function</span>(domain){
    <span class="reserved">this</span>.domain = domain;
};

Cookie.<span class="reserved">prototype</span>.getSecure = <span class="reserved">function</span>(){
    <span class="reserved">return</span> <span class="reserved">this</span>.secure;
};
<span class="comment">/* Read only
Cookie.prototype.setSecure = function(secure){
    this.secure = secure;
};*/</span>

Cookie.<span class="reserved">prototype</span>.equals = <span class="reserved">function</span>(cookie){
    <span class="reserved">if</span> (<span class="reserved">this</span>.name == cookie.name &amp;&amp;
        <span class="reserved">this</span>.value == cookie.value &amp;&amp;
        <span class="reserved">this</span>.maxAge == cookie.maxAge &amp;&amp;
        <span class="reserved">this</span>.path == cookie.path &amp;&amp;
        <span class="reserved">this</span>.domain == cookie.domain &amp;&amp;
        <span class="reserved">this</span>.secure == cookie.secure){
        <span class="reserved">return</span> true;
    } <span class="reserved">else</span> {
        <span class="reserved">return</span> false;
    }
};

Cookie.<span class="reserved">prototype</span>.toString = <span class="reserved">function</span>(){
    <span class="reserved">return</span> <span class="reserved">this</span>.getName() + <span class="literal">'='</span> + <span class="reserved">this</span>.getValue() +
        (<span class="reserved">this</span>.expires!=null ? <span class="literal">';expires='</span> + <span class="reserved">this</span>.expires : <span class="literal">''</span>)+
        (<span class="reserved">this</span>.getPath() ? <span class="literal">';path='</span> + <span class="reserved">this</span>.getPath() : <span class="literal">''</span>)+
        (<span class="reserved">this</span>.getDomain() ? <span class="literal">';domain='</span> + <span class="reserved">this</span>.getDomain() : <span class="literal">''</span>) +
        (<span class="reserved">this</span>.getSecure() ? <span class="literal">';secure'</span>:<span class="literal">""</span>);
};



var Cookies = new Object();
document.getCookies = <span class="reserved">function</span>(){
    var arr_cookies = document.cookie.split(<span class="literal">';'</span>);
    <span class="reserved">for</span> (var i = 0; i &lt; arr_cookies.length; i++){
        var arr_cookie = arr_cookies[i].split(<span class="literal">'='</span>);
        var name = arr_cookie[0];
        var value = arr_cookie[1];
        Cookies[name] = new Cookie(name, value);
    }
    <span class="reserved">return</span> Cookies;
};
document.getCookie = <span class="reserved">function</span>(name){
    <span class="reserved">return</span> Cookies[name];
};
document.setCookie = <span class="reserved">function</span>(cookie){
    var name = cookie.getName();
    var value = cookie.getValue();
    <span class="reserved">if</span> (Cookies[name]){
        Cookies[name].setValue(value);
    }<span class="reserved">else</span> {
        Cookie[name] = new Cookie(name, value);
    }
    document.cookie = cookie.toString();
};
document.deleteCookie = <span class="reserved">function</span>(cookieName){
    <span class="reserved">if</span> (Cookies[cookieName]){
        Cookies[cookieName].setMaxAge(0);
        Cookies[cookieName].setValue(<span class="literal">''</span>);
        document.setCookie(Cookies[cookieName]);
        Cookies[cookieName] = null;
    }
};



<span class="comment">// Copyright (c) 2006 Chris McClelland (http://www.ajaxpress.org/)</span>
<span class="comment">// See index.php for full license.</span>
<span class="reserved">function</span> setCookie(name, value, session) {
    <span class="reserved">if</span> (session) {
        expires = <span class="literal">""</span>;
    } <span class="reserved">else</span> {
        var expires = new Date();
        expires.setTime(expires.getTime() + 365 * 24 * 60 * 60 * 1000);
    }
    var curCookie = name + <span class="literal">"="</span> + escape(value) + 
        ((expires)? <span class="literal">"; expires="</span> + expires.toGMTString() : <span class="literal">""</span>) +
        <span class="literal">"; path=/"</span>;
    document.cookie = curCookie;
}


<span class="reserved">function</span> getCookie(name) {
    var dc = document.cookie;
    var prefix = name + <span class="literal">"="</span>;
    var begin = dc.indexOf(<span class="literal">"; "</span> + prefix);
    <span class="reserved">if</span> (begin == -1) {
        begin = dc.indexOf(prefix);
        <span class="reserved">if</span> (begin != 0) <span class="reserved">return</span> <span class="literal">""</span>;
    } <span class="reserved">else</span> {
        begin += 2;
    }
    var end = document.cookie.indexOf(<span class="literal">";"</span>, begin);
    <span class="reserved">if</span> (end == -1)
        end = dc.length;
    <span class="reserved">return</span> unescape(dc.substring(begin + prefix.length, end));
}


<span class="reserved">function</span> deleteCookie(name) {
    <span class="reserved">if</span> (getCookie(name)) {
        document.cookie = name + <span class="literal">"=; path=/; expires=Thu, 01-Jan-70 00:00:01 GMT"</span>;
    }
}</pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b>HOTOO Javascript API Specification</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">
Copyright &copy; 2008 by hotoo
</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Sat Mar 29 23:30:03 2008</div>
</body>
</html>
