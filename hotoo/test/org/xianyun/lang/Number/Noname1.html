<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8">
<html>
<head>
<title>t</title>
<meta name="generator" content="Editplus" />
<meta name="author" content="闲耘 (mail[AT]xianyun.org)" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<script type="text/javascript" language="javascript">/*<![CDATA[*/
	function textarea_scroll(obj,min)
	{min=obj.style.height||obj.style.offsetHeight;
		if(obj.scrollHeight<min){
          obj.style.height=min+"px";
		}else{
          obj.style.height=obj.scrollHeight+"px";
		}
	}
/*]]>*/</script>

<textarea rows=5 name=s1 cols=27 onkeyup="textarea_scroll(this,60)" style="overflow-y:hidden">
</textarea><br />


<script type="text/javascript" language="javascript">/*<![CDATA[*/

String.prototype.splitByLength = function(l){
	return this.match(new RegExp(".{1,"+l+"}","g"));
};
String.prototype.lastSplitByLength = function(l){
	var i=this.length, r=[];
	for (var j=i-1; j>=0; j-=l){
		r.splice(0,0,this.substr(j-l+1,l));
	}
	return r;

	var r=[],a=this.split("");
	for (var i=a.length-1; k=[],i>=0; i-=l){
		for (var j=0; j<l; j++){
			k[j] = a[i+j];
		}
		r[r.length] = k.join("");
	}
	return r.reverse();
};
alert("0123456789".lastSplitByLength(4));

String.prototype.right = function(length){
    return this.substr(this.length-length, length);
};
String.prototype.lastCharAt = function(i){
	return i>=this.length?"":this.substr(this.length-1-(i||0),1);
//	var l = this.length-1;
//	return i>l?"":this.substr(l-(i||0),1);
};

Number.prototype.toLocalCurrency = function(){
	var l = "zh-cn";
	return Number.toLocalCurrency[l](this);
};
Number.toLocalCurrency = {
	"zh-cn_resource":["零","一","二","三","四","五","六","七","八","九"],
	"zh-cn":function(i){
		return i;
	},
	"zh-tw":function(){}
};


Number.prototype.toLocalString = function(){
	var l = "zh-cn";
	return Number.toLocalString[l](this);
};
Number.toLocalString = {
	"zh-cn_resource":[
		["零","一","二","三","四","五","六","七","八","九"],
		["","十","百","千","万","十万","百万","千万","亿","十亿","百亿","千亿","兆"],
		["负","点"]
	],
	"zh-cn":function(i){
		var R=this["zh-cn_resource"], s=i.toString(), a=s.match(/..../), r=[], z="零";
	//	alert(a);
		for (var j=s.length-1,l=0; j>=0; j--,l++){
			var k = s.charAt(j)|0;
			k = R[0][k] + R[1][l];
			r[j] = /^零./.test(k)?"零":k;
		}
		return r.join("").replace(/零{2,}/g, "零").replace(/^一十/, "十").replace(/(.+)零$/, "$1");
	}
};
String.prototype.commafy = function(){
    var _n = this.match(/(-?\d+)(\.\d*)?/);
    var __n = _n[1].match(/(-?\d{0,3})((?:\d{3})*)/);
    return __n[1] + __n[2].replace(/(\d{3})/g, ",$1") + // integer.
        _n[2].replace(/(\d{3})/g, "$1,").replace(/(.*),$/, "$1"); // decimal.
};
Number.prototype.commafy = function(){
    return this.toString().commafy();
};


var T = [
[0,"零"],
[1,""],
[2,""],
[9,""],
[10,""],
[11,""],
[20,""],
[21,""],
[99,""],
[100,""],
[101,""],
[111,""],
[200,""],
[201,""],
[999,""],
[1000,""],
[1001,""],
[1010,""],
[1011,""],
[1111,""],
[9999,""],
[99999,""],
[100000,""],
[100001,""],
[101001,""],
[110000,""],
[200000,""],
[999999,""],
[9999999,""]
];
for (var i=0,l=T.length; i<l; i++){
	document.write(T[i][0]+" = "+T[i][0].toLocalString()+"<br />");
}


/*]]>*/</script>
</body>
</html>