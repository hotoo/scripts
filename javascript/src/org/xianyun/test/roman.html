<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8">
<html>
<head>
<title>t2</title>
<meta name="generator" content="Editplus" />
<meta name="author" content="闲耘 (mail[AT]xianyun.org)" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script language="javascript" type="text/javascript" src=""></script>
<link href="" type="text/css" rel="stylesheet" />
</head>
<body>
<script type="text/javascript" language="javascript">/*<![CDATA[*/

// 1-999
function toRoman(n){
	var r="",n,t,i,m, a=[
	["","I","II","III","IV","V","VI","VII","VIII","IX"],
	["","X","XX","XXX","XL","L","LX","LXX","LXXX","XCC"],
	["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM"]
	]; /*建立对照表*/

	for(m=0,i=1000;m<3;m++,i/=10){
		t=(n%i)/(i/10); /*从高位向低位依次取各位的数字*/
		r+=a[2-m][t|0]; /*通过对照表翻译输出*/
	}
	return r;
}
document.write(toRoman(999));



// 1-9999999999
// see http://www.toto369.net/jszh/jszh9.htm
function romanise(persian){
	var roman="";
	var ronumdashes="";
	var buffer=10-persian.length;
	while (buffer>0) {persian="0"+persian;buffer--}

	var units			=	["","I","II","III","IV","V","VI","VII","VIII","IX"];
	var tens			=	["","X","XX","XXX","XL","L","LX","LXX","LXXX","XC"];
	var hundreds		=	["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM"];
	var thousands		=	["","M","MM","MMM","MV","V","VM","VMM","VMMM","MX"];
	var billionsdashes	=	["","=","==","===","=≡","≡","≡=","≡==","≡===","=≡"];
	romandashes=billionsdashes[persian.substring(0,1)];
	var hundredmillionsdashes=["","=","==","===","==","=","==","===","====","=="];
	romandashes+=hundredmillionsdashes[persian.substring(1,2)];
	var tenmillionsdashes=["","=","==","===","==","=","==","===","====","=="];
	romandashes+=tenmillionsdashes[persian.substring(2,3)];
	var millionsdashes=["","_","__","___","_=","=","=_","=__","=___","_="];
	romandashes+=millionsdashes[persian.substring(3,4)];
	var hundredthousandsdashes=["","_","__","___","__","_","__","___","____","__"];
	romandashes+=hundredthousandsdashes[persian.substring(4,5)];
	var tenthousandsdashes=["","_","__","___","__","_","__","___","____","__"];
	romandashes+=tenthousandsdashes[persian.substring(5,6)];
	var thousandsdashes=["","","",""," _","_","_","_","_"," _"];
	romandashes+=thousandsdashes[persian.substring(6,7)];
	roman=thousands[persian.substring(0,1)];
	roman+=hundreds[persian.substring(1,2)];
	roman+=tens[persian.substring(2,3)];
	roman+=thousands[persian.substring(3,4)];
	roman+=hundreds[persian.substring(4,5)];
	roman+=tens[persian.substring(5,6)];
	roman+=thousands[persian.substring(6,7)];
	roman+=hundreds[persian.substring(7,8)];
	roman+=tens[persian.substring(8,9)];
	roman+=units[persian.substring(9,10)];
	return romandashes+"<br>"+roman;
  }


/*]]>*/</script>
<hr />
<input type="text" name=numeral size="10" onKeypress="if (event.keyCode<48 || event.keyCode>57) event.returnValue=false;" maxlength="10"><input type="button" value="Convert" onclick="result.innerHTML=romanise(numeral.value);"></p>
<tt id=result style=font-size:12px>在文本框里输入一个数字转换成罗马数字
</body>
</html>