<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>EventListener</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<script type="text/javascript" src="../lang/Array.js"></script>
<script type="text/javascript" src="../utils/equals.js"></script>
<script type="text/javascript" src="../utils/HashMap.js"></script>
<script type="text/javascript" src="EventListener.js"></script>
<script type="text/javascript">

var O = function(){
	this._ev = new EventListener();
};
O.prototype.addFocusEvent = function(h){
	this._ev.add("focus", h);
};
O.prototype.removeFocusEvent = function(h){
	this._ev.remove("focus", h);
};
O.prototype.onfocus = function(){
	return this._ev.get("focus").apply(this, arguments);
};

O.prototype.addBlurEvent = function(h){
	this._ev.add("blur", h);
};
O.prototype.removeBlurEvent = function(h){
	this._ev.remove("blur", h);
};
O.prototype.onblur = function(){
	return this._ev.get("blur").apply(this, arguments);
};

</script>
<script type="text/javascript">

function fs(){
	alert("focus");
}
function bl(){
	alert("blur:"+arguments[0]);
}

var o = new O();
o.onfocus();
o.onblur();
o.addFocusEvent(fs);
o.addBlurEvent(bl);
o.addBlurEvent(bl);
o.onfocus();
o.onblur();
o.removeFocusEvent(fs);
o.removeFocusEvent(fs);
alert("[REMOVED focus]");
o.onfocus();
o.onblur();
o.removeBlurEvent(bl);
alert("[REMOVED blur]");
o.onfocus();
o.onblur(false);

</script>
</body>
</html>
